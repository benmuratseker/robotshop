{"ast":null,"code":"import { BehaviorSubject, map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nclass UserService {\n  constructor(http) {\n    this.http = http;\n    this.user = new BehaviorSubject(null);\n  }\n  getUser() {\n    return this.user;\n  }\n  signIn(credetials) {\n    return this.http.post('/api/sign-in', credetials).pipe(map(user => {\n      this.user.next(user);\n      return user;\n    }));\n  }\n  signOut() {\n    this.user.next(null);\n  }\n}\nUserService.ɵfac = function UserService_Factory(t) {\n  return new (t || UserService)(i0.ɵɵinject(i1.HttpClient));\n};\nUserService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserService,\n  factory: UserService.ɵfac,\n  providedIn: 'root'\n});\nexport { UserService };","map":{"version":3,"names":["BehaviorSubject","map","UserService","constructor","http","user","getUser","signIn","credetials","post","pipe","next","signOut","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/muratseker/Documents/repos/robotshop/src/app/user/user.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, map, Observable } from 'rxjs';\n\nimport { IUser, IUserCredentials } from './user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  private user: BehaviorSubject<IUser | null>;\n\n  constructor(private http: HttpClient) { \n    this.user = new BehaviorSubject<IUser | null>(null);\n  }\n\n  getUser() : Observable<IUser | null> {\n    return this.user;\n  }\n\n  signIn(credetials: IUserCredentials): Observable<IUser> {\n    return this.http\n      .post<IUser>('/api/sign-in', credetials)\n      .pipe(map((user: IUser) => {\n        this.user.next(user);\n        return user;\n      }));\n  }\n\n  signOut() {\n    this.user.next(null);\n  }\n}\n"],"mappings":"AAEA,SAASA,eAAe,EAAEC,GAAG,QAAoB,MAAM;;;AAIvD,MAGaC,WAAW;EAGtBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IACtB,IAAI,CAACC,IAAI,GAAG,IAAIL,eAAe,CAAe,IAAI,CAAC;EACrD;EAEAM,OAAOA,CAAA;IACL,OAAO,IAAI,CAACD,IAAI;EAClB;EAEAE,MAAMA,CAACC,UAA4B;IACjC,OAAO,IAAI,CAACJ,IAAI,CACbK,IAAI,CAAQ,cAAc,EAAED,UAAU,CAAC,CACvCE,IAAI,CAACT,GAAG,CAAEI,IAAW,IAAI;MACxB,IAAI,CAACA,IAAI,CAACM,IAAI,CAACN,IAAI,CAAC;MACpB,OAAOA,IAAI;IACb,CAAC,CAAC,CAAC;EACP;EAEAO,OAAOA,CAAA;IACL,IAAI,CAACP,IAAI,CAACM,IAAI,CAAC,IAAI,CAAC;EACtB;;AAtBWT,WAAW,C;mBAAXA,WAAW,EAAAW,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAXd,WAAW,C;SAAXA,WAAW;EAAAe,OAAA,EAAXf,WAAW,CAAAgB,IAAA;EAAAC,UAAA,EAFV;AAAM;SAEPjB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}